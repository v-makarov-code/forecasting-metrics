# Прогноз активности пользователей с помощью Orbit 

## Описание проекта 

В данном приложении известны даты сбоев, а также рекламных компаний, где активность пользователей резко изменяется. Основная задача выбрать основную метрику для активности пользователей в приложении, и предсказать ее поведение на ближайший месяц. 

**Цель:** Спрогнозировать, как изменится активность пользователей в течение ближайшего месяца

## План выполнения проекта 

1. Выбор основной метрики для прогноза активности пользователей.
2. Выбор регрессоров для построение модели.
3. Построение модели и ее валидация.
4. Вывод, почему построенная модель является наиболее удачной, а также предложение будущих шагов для ее улучшения.

### Выбор основной метрики для прогноза активности пользователей

В качестве метрики для предсказания выберем DAU. Именно в ней хорошо наблюдалось влияние событий, произошедших за последние время, в том числе влияние рекламной компании и сбоев. Также эта метрика является стандартной для оценки активности пользователей в приложениях.

### Выбор регрессоров для построение модели

Пока будут добавлены три известных события из исторических данных - рекламная компания, сбой, а также флешмоб. Для future_df можно будет добавить информацию о будущих рекламных компаниях для лучшей предсказательности модели. Здесь же будет предполагаться, что рекламных компаний и сбоев в будущем не было, то есть будущие значения будут нулями.

### Построение модели в Orbit и ее валидация

Для валидации на месяц не хватает данных. Для минимальной тренировочной выборки в 50, который составляет 70% от общей выборки максимальный горизонт теста для минимального 2-фолд теста составляет 16,при выборе шага в 5 дней, что не является достаточным для валидирования горизонта теста в 1 месяц, а только на половину месяца. Для шага только в 1 день, максимальный горизонт для 2-фолд теста также будет только 20 дней и не покрывает потребностей в 30 дней. Возьмем горизонт только на полмесяца, и проведем 2-фолд валидацию
* Фолд1: обучение 1-50, тест на 51-66
* Фолд2: обучение 1-55, тест на 56-71

Учитываем это для поиска оптимальных гиперпараметров при помощи `grid_search_orbit`. Далее обучаем модель с этими параметрами.

### Построение графика с прогнозом 

![Prediction](https://github.com/v-makarov-code/forecasting-metrics/blob/main/dlt_prediction.png)
*Рис.1 - Полученное предсказание, построенное при помощи Orbit*

## Вывод 

Конечная модель предсказывает, все возможные исходы, дальнейший рост, а также дальнейшие падание активности, если приложение продолжит плохо работать. Среднее же значение выходит на плато. Данная модель мне кажется наиболее удачной, потому что опирается на все известные случаи резкого всплеска и падения пользователей в качестве регрессоров, а также на общий тренд самой метрики. В качестве модификации в любой момент можно скорректировать предсказания изменив значения будущих регрессоров - например, если мы знаем в какие дни будет проводиться рекламная компания или технические работы.

## Стек 

- Python 3.13
- Orbit 1.1.4.2



